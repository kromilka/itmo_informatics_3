# Отчет лабораторная №3
Заранее была поставлена и настроена VirtaulBox
## Задание
Необходимо было настроить виртуальную машину А с Ubuntu в VirtualBox. Обеспечить доступ в сеть Интернет. Осуществить проверку этого доступа и приложить скриншот из терминала. Следующим шагом настроить ещё одну виртуальную машину Б. После чего обеспечить сетевой доступ от машины А к машину Б. Приложить скриншот из терминала. Поднять ещё одну виртуальную машину В. Организовать сетевой доступ:

1. из машины А в машину Б.
2. из машины А в машину В,
3. но запретить доступ из машины Б в машину В.
4. Приложить скриншот, на котором видно терминалы всех трёх машин.

## Ход работы
Сначала был настроена на 1 Адаптере машины А и машины Б NAT, дающая доступ в интернет через хостовую машину. Доказательство наличия доступа в сеть Интернет представлена на рисунках 1-2.

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/6e385ef1-3423-45ff-b47b-1661a808ddbb)

Рисунок 1

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/cb981a9a-7a9b-4404-b5f3-3591c0be6861)

Рисунок 2

Далее необходимо было настроить сетевой доступ от машины А к Б. Реализация заключалась в том, что у машин был включен 2 Адаптер с "сеть NAT", которая дополнительно была создана и настроена и названа `NatNetwork` инструментами VirtualBox (рисунок 3). 

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/28710888-fb73-4279-a291-fcbb0743748f)

Рисунок 3

Скриншот с адаптером настроенным на `NatNetwork`:

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/f11808b5-1353-4121-bef9-21c962a4644a)


Рисунок 4

В сети `192.168.0.0/24` машина А (компьютер lin) получила ip-адрес `192.168.0.5`, а машина Б (компьюетр vb) `192.168.0.4`. На рисунке 5 показана связь между машинами.

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/1bd00b41-d0ac-4d03-b577-a18bc0177c95)

Рисунок 5

Далее для задачи необходимо было настроить машину В (компьютер vb1). Она также была подключена в сеть NAT, имела ip-адрес `192.168.0.6` и могла пинговать машины А и Б (рисунок 6).

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/d0f867da-30cc-4f01-b2ae-40caee212544)

Рисунок 6

Для подтверждения, что все три машины видят друг друга на рисунке 7 показано, что машина Б видела в сети машину А (`192.168.0.5`) и В (`192.168.0.6`).

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/4c5360a7-4bf1-494f-b8e7-a80c72796832)

Рисунок 7

Далее для запрета доступа из машины Б в В была использована утилита `iptables`, управляющая работой межсетевого экрана netfilter (рисунок 8). На машине В для ip-адреса машины Б на вход было установлено правило DROP, блокирующее обмен пакетами между этими машинами.

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/a4ee0819-9671-4f98-8a96-024a0e6e04ed)

Рисунок 8

Таким образом, на рисунке 9 видно, что из машины А (a1@lin) и В (a1@vb1) могут связываться с Б (a1@vb) и между собой, но машина Б не может пинговать машину В с ip-адресом `192.168.0.6`.

![image](https://github.com/kromilka/itmo_informatics_3/assets/60718613/9e8272cc-9432-43d2-b9b1-d8e7cd4e3a72)

Рисунок 9
